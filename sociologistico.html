<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">

<html>

<head>
    <style>
        html {
            font-family: Arial !important;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <h1> <span style="color: #81054b">></span>Periférico Socio Logístico </h1>
    <h2> <span></span>Enviar lote a vacunatorio </h2>

    <div>
        <label>Vacunatorio</label>
        <input type="text" name="vacunatorio" id="vacunatorio" />
    </div>
    <br>
    <div>
        <label>Nombre de Lote</label>
        <input type="text" name="lote" id="lote" />
    </div>
    <br>
    <div>
        <label for="estado">Estado de lote:</label>

        <select name="estado" id="estado">
            <option value="recibido">RECIBIDO</option>
            <option value="transito">TRÁNSITO</option>
            <option value="disponible">DISPONIBLE</option>
        </select>
    </div>
    <br>

    <button type="button" onclick="enviarLote()"> Enviar Lote
    </button>

    <script>
        function enviarLote() {
            const vacunatorio = document.getElementById("vacunatorio").value;
            const lote = document.getElementById("lote").value;
            const estado = document.getElementById("estado").value;

            if (vacunatorio == "" || lote == "" || estado == "")
                alert("No puede haber campos vacíos");
            else {
                console.log("vacunatorio: ", vacunatorio, " lote: ", lote, " estado: ", estado);
                $.ajax({
                    type: 'POST',
                    url: 'http://localhost:8080/vacunasUY-web/rest/VacunatorioREST/addLote?vacunatorio=' + vacunatorio +
                        '&lote=' + lote +
                        '&estado=' + estado,
                    success: function (result) {
                        alert(result.mensaje);
                        console.log("Result:", result);
                    },
                });
            }
        }
    </script>
</body>

</html>